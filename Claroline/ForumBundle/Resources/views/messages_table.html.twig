{% extends "ClarolineCoreBundle:Workspace:layout.html.twig" %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/clarolineforum/js/messages.js') }}" type="text/javascript"></script>
{% endblock %}

{% block section_content %}

    <ul class="breadcrumb">
        <li>
            <a href="{{ _path('claro_forum_open', {'resourceId': subject.getParent().getId()}) }}">
                {{ subject.getParent().getName() }}
            </a>
        </li>
        <span class="divider"> / </span>
        <li>
            <a href="{{ _path('claro_forum_open', {'resourceId': subject.getParent().getId()}) }}">{{ subject.getName() }}</a>
        </li>
    </ul>
    <p>
        <a href='{{ _path('claro_forum_message_form', {'subjectId': subject.getId()}) }}'
            <button class="btn"> {{ 'new_message'|trans({}, 'forum') }} </button>
        </a>
    </p>
    <table id="messages_table" class="table table-striped table-bordered table-condensed">
        <thead>
            <tr>
                <th>{{ 'author'|trans({}, 'forum') }}</th>
                <th>{{ 'responses'|trans({}, 'forum') }}</th>
            </tr>
        </thead>
        <tbody id='table-message-body'>
        </tbody>
    </table>
    <div id="twig-attributes"
         data-nbPages="{{ nbPages }}"
         data-subjectId="{{ subject.getId() }}"
         data-limit="{{ limit }}">
    </div>
{% endblock %}